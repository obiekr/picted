{"ast":null,"code":"var _jsxFileName = \"J:\\\\1.Project\\\\Python\\\\Web\\\\DjangoReact\\\\picted\\\\frontend\\\\src\\\\components\\\\ListArticle.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport \"./ListArticle.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ListArticle() {\n  _s();\n\n  const [article, setArticle] = useState({});\n  const [thumbImg, setThumbImg] = useState({});\n\n  function getArticle() {\n    axios.get(\"/api/article\").then(response => {\n      setArticle(response.data);\n      var config = {\n        headers: {\n          \"Accept-Version\": \"v1\",\n          \"Authorization\": \"Client-ID b_oOP9fLWgawnVSEWkoWlHMzoGD7J3uOk4DLp8u9E0w\"\n        },\n        params: {\n          \"count\": response.data.length,\n          \"orientation\": \"squarish\"\n        }\n      };\n      return axios.get(\"https://api.unsplash.com/photos/random\", config);\n    }).then(response => {\n      console.log();\n      setThumbImg(response.data);\n      return /*#__PURE__*/_jsxDEV(Test, {\n        article: article,\n        thumbImg: thumbImg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 20\n      }, this);\n    });\n  }\n\n  useEffect(() => {\n    getArticle();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Test, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ListArticle, \"4Y7TlftRq5f8p+MNXAXf6RXI+Yo=\");\n\n_c = ListArticle;\n\nfunction Test(article, thumbImg) {\n  if (article.length > 0) {\n    var counter = 0;\n    let res = article.map((c, index) => {\n      var content = \"\";\n      console.log(thumbImg[index]);\n\n      if (c.content.length > 180) {\n        content = c.content.substring(0, 180) + \"...\";\n      } else {\n        content = c.content;\n      }\n\n      return /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/article/\" + c.id,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"tile\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: thumbImg,\n            alt: \"unsplah\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"text\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: [c.title, \".\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              class: \"animate-text\",\n              children: c.author\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              class: \"animate-text\",\n              children: content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Test, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrap\",\n      children: res\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrap\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"You don't have any articles\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this);\n  }\n}\n\n_c2 = Test;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ListArticle\");\n$RefreshReg$(_c2, \"Test\");","map":{"version":3,"sources":["J:/1.Project/Python/Web/DjangoReact/picted/frontend/src/components/ListArticle.jsx"],"names":["axios","React","useState","useEffect","useRef","Link","ListArticle","article","setArticle","thumbImg","setThumbImg","getArticle","get","then","response","data","config","headers","params","length","console","log","Test","counter","res","map","c","index","content","substring","id","title","author"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, { useState, useEffect, useRef } from 'react'\nimport { Link } from 'react-router-dom';\nimport \"./ListArticle.css\"\n\nexport default function ListArticle(){\n    const [article, setArticle] = useState({});\n    const [thumbImg, setThumbImg] = useState({});\n\n\n    function getArticle(){\n\n        axios.get(\"/api/article\").then(response => {\n            setArticle(response.data);   \n            var config ={\n                headers: {\n                    \"Accept-Version\": \"v1\",\n                    \"Authorization\": \"Client-ID b_oOP9fLWgawnVSEWkoWlHMzoGD7J3uOk4DLp8u9E0w\",\n                },\n                params: {\n                    \"count\": response.data.length,\n                    \"orientation\": \"squarish\",\n                }\n            }          \n            return axios.get(\"https://api.unsplash.com/photos/random\", config) \n        }).then(response => {\n            console.log()\n            setThumbImg(response.data);\n            return <Test article={article} thumbImg={thumbImg}/>\n        })\n    }\n\n    useEffect(() => {\n        getArticle()\n\n    }, [])\n    \n\n    return(\n        <Test />\n    )\n\n    \n    \n}\n\nfunction Test(article, thumbImg){\n    if (article.length > 0){\n        var counter = 0;\n        let res = article.map((c, index) => {\n            var content = \"\";\n            console.log(thumbImg[index])\n            if(c.content.length > 180){\n                content = c.content.substring(0, 180)+\"...\" \n            }else{\n                content = c.content\n            }\n            return(\n                \n                <Link to={\"/article/\" + c.id}>\n                    <div class=\"tile\"> \n                        {/* <img src={'https://source.unsplash.com/random?sig='+ c.id} alt=\"unsplah image\"/> */}\n                        <img src={thumbImg} alt=\"unsplah\"/>\n                        <div class=\"text\">\n                            <h1>{c.title}.</h1>\n                            <h2 class=\"animate-text\">{c.author}</h2>\n                            <p class=\"animate-text\">{content}</p>\n                        </div>\n                    </div> \n                    <Test />\n                </Link>         \n            )\n        })\n        return(\n            <div className=\"wrap\">\n                {res}\n            </div>\n        )\n    }else{\n        return (\n            <div className=\"wrap\">\n                <h2>You don't have any articles</h2>\n            </div>\n\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}