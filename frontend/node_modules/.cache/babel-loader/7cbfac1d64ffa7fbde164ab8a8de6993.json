{"ast":null,"code":"var _jsxFileName = \"J:\\\\1.Project\\\\Python\\\\Web\\\\DjangoReact\\\\picted\\\\frontend\\\\src\\\\components\\\\ListArticle.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport \"./ListArticle.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ListArticle() {\n  _s();\n\n  const [article, setArticle] = useState({});\n  const [thumbImg, setThumbImg] = useState(\"\");\n\n  function getArticle() {\n    axios.get(\"/api/article\").then(response => {\n      setArticle(response.data);\n      var config = {\n        headers: {\n          \"Accept-Version\": \"v1\",\n          \"Authorization\": \"Client-ID b_oOP9fLWgawnVSEWkoWlHMzoGD7J3uOk4DLp8u9E0w\"\n        },\n        params: {\n          \"count\": response.data.length,\n          \"orientation\": \"squarish\"\n        }\n      };\n      return axios.get(\"https://api.unsplash.com/photos/random\", config);\n    }).then(response => {\n      setThumbImg(response.data);\n    });\n  }\n\n  useEffect(() => {// getArticle()\n  }, []);\n  axios.get(\"/api/article\").then(response => {\n    setArticle(response.data);\n    var config = {\n      headers: {\n        \"Accept-Version\": \"v1\",\n        \"Authorization\": \"Client-ID b_oOP9fLWgawnVSEWkoWlHMzoGD7J3uOk4DLp8u9E0w\"\n      },\n      params: {\n        \"count\": response.data.length,\n        \"orientation\": \"squarish\"\n      }\n    };\n    return axios.get(\"https://api.unsplash.com/photos/random\", config);\n  }).then(response => {\n    setThumbImg(response.data);\n  });\n\n  if (article.length > 0) {\n    var counter = 0;\n    let res = article.map((c, index) => {\n      var content = \"\";\n      console.log(thumbImg[index]);\n\n      if (c.content.length > 180) {\n        content = c.content.substring(0, 180) + \"...\";\n      } else {\n        content = c.content;\n      }\n\n      return /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/article/\" + c.id,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"tile\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: thumbImg,\n            alt: \"unsplah\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"text\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: [c.title, \".\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              class: \"animate-text\",\n              children: c.author\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              class: \"animate-text\",\n              children: content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrap\",\n      children: res\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"wrap\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"You don't have any articles\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this);\n  }\n}\n\n_s(ListArticle, \"xdAwtdrSeGtg17tZDdsdEOcbI44=\");\n\n_c = ListArticle;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListArticle\");","map":{"version":3,"sources":["J:/1.Project/Python/Web/DjangoReact/picted/frontend/src/components/ListArticle.jsx"],"names":["axios","React","useState","useEffect","useRef","Link","ListArticle","article","setArticle","thumbImg","setThumbImg","getArticle","get","then","response","data","config","headers","params","length","counter","res","map","c","index","content","console","log","substring","id","title","author"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, { useState, useEffect, useRef } from 'react'\nimport { Link } from 'react-router-dom';\nimport \"./ListArticle.css\"\n\nexport default function ListArticle(){\n    const [article, setArticle] = useState({});\n    const [thumbImg, setThumbImg] = useState(\"\");\n\n\n    function getArticle(){\n\n        axios.get(\"/api/article\").then(response => {\n            setArticle(response.data);   \n            var config ={\n                headers: {\n                    \"Accept-Version\": \"v1\",\n                    \"Authorization\": \"Client-ID b_oOP9fLWgawnVSEWkoWlHMzoGD7J3uOk4DLp8u9E0w\",\n                },\n                params: {\n                    \"count\": response.data.length,\n                    \"orientation\": \"squarish\",\n                }\n            }          \n            return axios.get(\"https://api.unsplash.com/photos/random\", config) \n        }).then(response => {\n            setThumbImg(response.data);\n        })\n    }\n\n    useEffect(() => {\n        // getArticle()\n\n    }, [])\n    axios.get(\"/api/article\").then(response => {\n        setArticle(response.data);   \n        var config ={\n            headers: {\n                \"Accept-Version\": \"v1\",\n                \"Authorization\": \"Client-ID b_oOP9fLWgawnVSEWkoWlHMzoGD7J3uOk4DLp8u9E0w\",\n            },\n            params: {\n                \"count\": response.data.length,\n                \"orientation\": \"squarish\",\n            }\n        }          \n        return axios.get(\"https://api.unsplash.com/photos/random\", config) \n    }).then(response => {\n        setThumbImg(response.data);\n        \n    })\n    \n    if (article.length > 0){\n        var counter = 0;\n        let res = article.map((c, index) => {\n            var content = \"\";\n            console.log(thumbImg[index])\n            if(c.content.length > 180){\n                content = c.content.substring(0, 180)+\"...\" \n            }else{\n                content = c.content\n            }\n            return(\n                \n                <Link to={\"/article/\" + c.id}>\n                    <div class=\"tile\"> \n                        {/* <img src={'https://source.unsplash.com/random?sig='+ c.id} alt=\"unsplah image\"/> */}\n                        <img src={thumbImg} alt=\"unsplah\"/>\n                        <div class=\"text\">\n                            <h1>{c.title}.</h1>\n                            <h2 class=\"animate-text\">{c.author}</h2>\n                            <p class=\"animate-text\">{content}</p>\n                        </div>\n                    </div> \n                </Link>         \n            )\n        })\n        return(\n            <div className=\"wrap\">\n                {res}\n            </div>\n        )\n    }else{\n        return (\n            <div class=\"wrap\">\n                <h2>You don't have any articles</h2>\n            </div>\n\n        )\n    }\n\n    \n    \n}"]},"metadata":{},"sourceType":"module"}